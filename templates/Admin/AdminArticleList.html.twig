{%  extends 'Admin/AdminBase.html.twig' %}

{% block metaTitle %}
    Les articles
{% endblock metaTitle %}

{#appel du block main #}
{% block main %}
    <main>
        {# mise en place d une boucle for pour afficher tous les articles de la liste #}
        {% for article in articles %}
            <article>
                {# Creation d un lien avec la fonction path pour rediriger vers une adresse URL #}
                <a href="{{ path('adminArticleShow',{'id': article.id} ) }}">
                    <h2>{{ article.title }}</h2>
                </a>
                {# affichage de l article  #}
                <p>Résumé : {{ article.content}} </p>
                <p>Créé le : {{ article.createAt | date('y-m-d') }}</p>
                {% if article.category %}
                    <p>catégorie de l'article {{ article.category.title }}</p>
                {% endif %}

                <a href="{{ path('adminArticleDelete', {'id' : article.id} ) }}">Supprimer</a>
                <a href="{{ path('adminArticleUpdate', {'id' : article.id} ) }}">Modifier</a>
            </article>
        {% endfor %} {# cloture de la boucle for #}

        <div>
            <p>
                <a href="{{ path('adminArticleInsert' ) }}">Ajouter un nouvel article</a>
            </p>
        </div>
    </main>
{% endblock main %}


